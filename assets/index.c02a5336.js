var e,a,t,r=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,a,t)=>a in e?r(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,m=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(p)for(var t of p(a))n.call(a,t)&&i(e,t,a[t]);return e},d=(e,a)=>o(e,l(a));"undefined"!=typeof require&&require;import{f as c,m as u,d as y,r as b,h as g,e as f,O as v,P,a as h,W as I,Q as O}from"./vendor.0429b4fb.js";import{t as x}from"./tableTpl.2176d6d6.js";import{m as T}from"./index.10e5a759.js";(e||(e={})).STORE_TYPE="1",(t=a||(a={}))[t.NEW=1]="NEW",t[t.DELIVERING=2]="DELIVERING",t[t.CLOSE=3]="CLOSE";const L={resultMap:{1:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}},N=({router:e,queryTable:a})=>[{title:"交接单号",dataIndex:"handoverNumber"},{title:"发货物流商",dataIndex:"expressCompanyTypeDesc"},{title:"交接状态",dataIndex:"handoverTypeDesc"},{title:"创建人",dataIndex:"createUserName"},{title:"创建时间",dataIndex:"created"},{title:"发货人",dataIndex:"deliverUserName"},{title:"发货时间",dataIndex:"deliverTime"},{title:"总包裹数",dataIndex:"expressCount"},{title:"总件数",dataIndex:"totalCount"},{title:"操作",key:"operation",dataIndex:"operation",dataType:"operation",width:200,fixed:"right",operates:[{text:"查看",compProps:{type:"link"},onClick(a){e.push({path:"/TemplateList/TablePage/Detail",query:{handoverId:a.id}})}},{text:"交接",compProps:{type:"primary"},onClick(a){e.push({path:"/TemplateList/TablePage/Deliver",query:{handoverId:a.id}})}},{text:"删除",compProps:{danger:!0},onClick(e){c.confirm({content:`确认将交接单 ${e.handoverNumber} 删除吗?`,onOk:async()=>{u.success("删除成功"),await a()}})}}]}];var w=y({name:"TablePage",setup(){const a=b(),t=g(),r=f({params:{page:1,size:10,createTimeRange:{}},tableData:{total:0,dataList:[]},eggOpt:[]}),o=(e={})=>{r.params=m(m({},r.params),e)},l=async(e={})=>{o(e);const a=x.data,{total:t,dataList:l=[]}=a;r.tableData={total:t,dataList:l}},p=async(e={})=>{a.value.initModelRef(),await l(d(m({},e),{page:1,size:10}))},s=async(e={})=>{await l(d(m({},e),{page:1,size:10}))},n=async e=>{o({page:e.current,size:e.pageSize}),await l()};v((async()=>{const a=L.resultMap[e.STORE_TYPE]||[];r.eggOpt=a}));const i=()=>{T.title="新增交接单",T.apiName="/wms/handover/addHandover",T.dataSource=[{formItemLabel:"新发货物流商",type:"select",value:null,name:"expressCompany",compProps:{placeholder:"请选择新发货物流商"},selfProps:{options:{eggOpt:r.eggOpt}.eggOpt},rules:{message:"请选择新发货物流商",type:"string",required:!0,trigger:"change"}},{formItemLabel:" ",type:"btnGroup",formItemProps:{labelCol:{span:1},colon:!1},selfProps:{options:[{label:"确认",eventName:"confirm",compProps:{type:"primary"}},{label:"取消",eventName:"close",compProps:{type:"default"}}]}}],T.onRefresh=l,T.showModal=!0};return P((async()=>{await l()})),()=>{return h("section",{class:""},[h(I,{class:"item-card pt20",ref:a,dataSource:(e={eggOpt:r.eggOpt},[{formItemLabel:"交接单号",type:"input",value:null,name:"handoverNumber",compProps:{placeholder:"请输入交接单号",type:"text"},selfProps:{type:"number"}},{formItemLabel:"下拉选择",type:"select",value:null,name:"expressCompany",compProps:{placeholder:"请选择"},selfProps:{options:e.eggOpt}},{formItemLabel:"创建时间",type:"rangePicker",value:[],name:"createTimeRange",compProps:{placeholder:["开始时间","结束时间"]}},{formItemLabel:"",type:"btnGroup",selfProps:{options:[{label:"查询",eventName:"query",compProps:{type:"primary"}},{label:"重置",eventName:"reset",compProps:{type:"default"}},{label:"新增",eventName:"add",compProps:{ghost:!0,type:"primary"}}]}}]),onQuery:s,onReset:p,onAdd:i},null),h(O,{columns:N({router:t,queryTable:l}),dataSource:r.tableData.dataList,rowSelection:null,scroll:{x:"110%"},pagination:{total:r.tableData.total,current:r.params.page,pageSize:r.params.size},additionProps:{rowKey:"id",onChange:n}},null)]);var e}}});export{w as default};
